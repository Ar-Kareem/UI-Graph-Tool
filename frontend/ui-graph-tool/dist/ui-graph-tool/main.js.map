{"version":3,"sources":["./src/environments/environment.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/main.services.ts","./src/app/app.module.ts","./src/app/main.component.ts","./src/app/main.component.html","./src/app/mermaid_utils.ts","./src/app/app-routing.module.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { ChangeDetectorRef, Component } from '@angular/core';\r\nimport {ProgressSpinnerModule} from 'primeng/progressspinner';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n})\r\nexport class AppComponent {\r\n  loader = false;\r\n\r\n  constructor(\r\n    private cdr: ChangeDetectorRef,\r\n  ) {}\r\n\r\n  setLoader($event: any) {\r\n    this.loader = !!$event\r\n    this.cdr.detectChanges();\r\n  }\r\n\r\n}\r\n","<p-blockUI [blocked]=\"loader\">\r\n  <p-progressSpinner></p-progressSpinner>\r\n</p-blockUI>\r\n\r\n<div #rootDiv>\r\n  <main-root (setLoader)=\"setLoader($event)\"></main-root>\r\n</div>","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { catchError, retry } from 'rxjs/operators';\r\n\r\nconst API = {\r\n    usersAdd: '/api/usersAdd/',\r\n    usersGet: '/api/usersGet/',\r\n\r\n    storyAdd: '/api/storyAdd',\r\n    storyGet: '/api/storyGet',\r\n    storyGetAll: '/api/storyGetAll',\r\n\r\n    userAnnotationAdd: '/api/userAnnotationAdd',\r\n    userAnnotationGet: '/api/userAnnotationGet',\r\n\r\n    telemetryAdd: '/api/telemetryAdd'\r\n}\r\n\r\n@Injectable()\r\nexport class MainService {\r\n    constructor(private http: HttpClient) { }\r\n\r\n    usersAdd(user) {\r\n        return this.http.post(API.usersAdd, {'data': user});\r\n    }\r\n\r\n    usersGet() {\r\n        return this.http.post(API.usersGet, {});\r\n    }\r\n\r\n    storyAdd(story) {\r\n        return this.http.post(API.storyAdd, {'data': story});\r\n    }\r\n\r\n    storyGet(storyNum) {\r\n        return this.http.post(API.storyGet, {'data': storyNum});\r\n    }\r\n\r\n    storyGetAll() {\r\n        return this.http.post(API.storyGetAll, {});\r\n    }\r\n\r\n    userAnnotationAdd(user, storyNum, jsonGraph) {\r\n        return this.http.post(API.userAnnotationAdd, {'user': user, 'storyNum': storyNum, 'data': jsonGraph});\r\n    }\r\n\r\n    userAnnotationGet(user, storyNum) {\r\n        return this.http.post(API.userAnnotationGet, {'user': user, 'storyNum': storyNum});\r\n    }\r\n\r\n    telemetryAdd(user, data) {\r\n        return this.http.post(API.telemetryAdd, {'user': user, 'data': data});\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { HttpClientModule } from '@angular/common/http';\r\n\r\nimport { ToolbarModule } from 'primeng/toolbar';\r\nimport { ButtonModule } from 'primeng/button';\r\nimport { SplitButtonModule } from 'primeng/splitbutton';\r\nimport { DialogModule } from 'primeng/dialog';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { InputTextModule } from 'primeng/inputtext';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ToastModule } from 'primeng/toast';\r\nimport { ConfirmationService , MessageService} from 'primeng/api';\r\nimport { ConfirmDialogModule } from 'primeng/confirmdialog';\r\nimport { TableModule } from 'primeng/table';\r\nimport { ContextMenuModule } from 'primeng/contextmenu';\r\nimport {InputTextareaModule} from 'primeng/inputtextarea';\r\nimport {TooltipModule} from 'primeng/tooltip';\r\nimport { BlockUIModule } from \"primeng/blockui\";\r\nimport {ProgressSpinnerModule} from 'primeng/progressspinner';\r\n\r\nimport { MainComponent } from './main.component';\r\nimport { AppComponent } from './app.component';\r\nimport { MainService } from './main.services';\r\nimport { AppRoutingModule } from './app-routing.module';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    MainComponent,\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    HttpClientModule,\r\n\r\n    ToolbarModule,\r\n    ButtonModule,\r\n    SplitButtonModule,\r\n    DialogModule,\r\n    BrowserAnimationsModule,\r\n    InputTextModule,\r\n    FormsModule,\r\n    ToastModule,\r\n    ConfirmDialogModule,\r\n    TableModule,\r\n    ContextMenuModule,\r\n    InputTextareaModule,\r\n    TooltipModule,\r\n    BlockUIModule,\r\n    ProgressSpinnerModule,\r\n    AppRoutingModule,\r\n  ],\r\n  providers: [\r\n    MessageService,\r\n    ConfirmationService,\r\n    MainService,\r\n  ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { AfterViewInit, ChangeDetectorRef, Component, ElementRef, EventEmitter, HostListener, OnInit, Output, QueryList, ViewChild, ViewChildren } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { filter, first } from 'rxjs/operators';\r\n\r\n\r\n\r\nimport {ConfirmationService, MessageService} from 'primeng/api';\r\nimport { MainService } from './main.services';\r\n\r\n\r\nimport { mermaid_utils } from './mermaid_utils'\r\n\r\n@Component({\r\n  selector: 'main-root',\r\n  templateUrl: './main.component.html',\r\n  styleUrls: ['./main.component.scss'],\r\n})\r\nexport class MainComponent implements AfterViewInit  {\r\n  @ViewChild('mermaid', { static: true }) mermaidDiv: ElementRef;\r\n  @ViewChildren('storyRow', { read: ElementRef }) rowElement: QueryList<ElementRef>;\r\n\r\n  @Output() setLoader = new EventEmitter();\r\n\r\n  userName = null;\r\n\r\n  selectedStory = null;\r\n  sidenavVisible = true;\r\n  selectedElement = null; // prevent KB shortcuts if selected element\r\n\r\n  dialogues = {\r\n    username: {\r\n      display: true,\r\n      input: null\r\n    },\r\n    rename: {\r\n      display: false,\r\n      input: null,\r\n    },\r\n    newNode: {\r\n      display: false,\r\n      input: null,\r\n      connectedNode: null,\r\n    },\r\n    newEdge: {\r\n      display: false,\r\n      node1: null,\r\n      node2: null,\r\n    },\r\n  }\r\n\r\n\r\n  filteredStories = [\r\n    // {\r\n    //   key: 1,\r\n    //   text: 'hello2hello2hello2hello2hello2hello2hello2hello2',\r\n    //   completed: true,\r\n    // },\r\n  ];\r\n  allStories = [];\r\n\r\n  graph = {\r\n    // node_names: ['Start', 'Is it', 'End'],\r\n    // edges: [[0, 1], [1, 2]],\r\n    node_names: [],\r\n    edges: [],\r\n    comments: '',\r\n  }\r\n\r\n  graphStyle = {\r\n    clicked: null\r\n  }\r\n\r\n  constructor(\r\n    private cdr: ChangeDetectorRef,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private activatedRoute: ActivatedRoute,\r\n\r\n    private messageService: MessageService,\r\n    private confirmationService: ConfirmationService,\r\n\r\n    private mainService: MainService,\r\n  ) {\r\n    // this.userName = 'TEMPUSER';\r\n  }\r\n\r\n  async ngAfterViewInit(){\r\n    window['app'] = this\r\n    window['mermaid_utils'] = mermaid_utils\r\n    mermaid_utils.init()\r\n    this.update()\r\n  }\r\n\r\n  async username_confirm() {\r\n    this.userName = this.dialogues.username.input.toLowerCase();\r\n    this.dialogues.username.display = false;\r\n    this.mainService.telemetryAdd(this.userName, 'login').subscribe((resp) => {})\r\n    let res = await this.mainService.storyGetAll().toPromise();\r\n    let arr = res['resp'];\r\n    Object.entries(arr).forEach(entry => {\r\n      let key = entry[0]\r\n      let story = entry[1]\r\n      this.allStories.push({\r\n        text: story,\r\n        key: key\r\n      })\r\n      this.filteredStories = this.allStories.map(v => v)\r\n    })\r\n    \r\n    const sub = this.route.queryParams.pipe(\r\n        first()\r\n      ).subscribe((params) => {\r\n        // console.log(params);\r\n        // console.log(params);\r\n        if (!!params.storyId) {\r\n          const id = params.storyId\r\n          const match = this.allStories.filter(s => s.key == id)\r\n          if (match.length > 0) this.sidebar_click_story(id)\r\n        }\r\n        // console.log('SUBSC');\r\n      })\r\n  }\r\n\r\n  toolbar_new_node() {\r\n    this.dialogues.newNode.input = ''\r\n    this.dialogues.newNode.connectedNode = ''\r\n    this.dialogues.newNode.display = true\r\n  }\r\n\r\n  toolbar_new_edge() {\r\n    this.dialogues.newEdge.node1 = ''\r\n    this.dialogues.newEdge.node2 = ''\r\n    this.dialogues.newEdge.display = true\r\n  }\r\n\r\n  toolbar_rename() {\r\n    if(!!this.graphStyle.clicked) {\r\n      const current_node_name = this.graph.node_names[this.graphStyle.clicked]\r\n      this.dialogues.rename.input = current_node_name\r\n      this.dialogues.rename.display = true\r\n    }\r\n  }\r\n\r\n  private sanitize_input(node_name) {\r\n    const reg = '0-9 a-z A-Z \\- \\/ \\& \\' . ,'\r\n    const matchReg = new RegExp('^[' + reg + ']+$')\r\n    const replaceReg = new RegExp('[^' + reg + ']', 'g')\r\n    if (!node_name.match(matchReg)) {\r\n      this.messageService.add({severity:'warn', summary:'Name Sanitized', detail:'Name contains invalid characters that were removed'})\r\n      node_name = node_name.replaceAll(replaceReg, '')\r\n    }\r\n    return node_name\r\n  }\r\n\r\n  toolbar_raneme_confirm() {\r\n    this.dialogues.rename.display = false\r\n    this.dialogues.rename.input = this.sanitize_input(this.dialogues.rename.input)\r\n    this.graph.node_names[this.graphStyle.clicked] = this.dialogues.rename.input\r\n    this.save_and_update()\r\n  }\r\n\r\n  toolbar_new_node_confirm() {\r\n    this.dialogues.newNode.display = false\r\n    this.dialogues.newNode.input = this.sanitize_input(this.dialogues.newNode.input)\r\n    const newNodeId = mermaid_utils.addNode(this.graph, this.dialogues.newNode.input)\r\n    const conn = Number(this.dialogues.newNode.connectedNode + '') - 1\r\n    if (Number.isInteger(conn) && conn >= 0 && conn < newNodeId) {\r\n      mermaid_utils.addEdge(this.graph, conn, newNodeId)\r\n    } else if (newNodeId >= 1) { // connect to last new node unless its the only node in the graph\r\n      mermaid_utils.addEdge(this.graph, newNodeId-1, newNodeId)\r\n    }\r\n    this.save_and_update()\r\n  }\r\n\r\n  toolbar_new_edge_confirm(event, gotonext) {\r\n    if (!!gotonext) {\r\n      event.srcElement.parentElement.nextElementSibling.firstChild.focus()\r\n      return\r\n    }\r\n    this.dialogues.newEdge.display = false\r\n    const node1 = Number(this.dialogues.newEdge.node1 + '') - 1\r\n    const node2 = Number(this.dialogues.newEdge.node2 + '') - 1\r\n    if (Number.isInteger(node1) && node1 >= 0 && node1 < this.graph.node_names.length\r\n        && Number.isInteger(node2) && node2 >= 0 && node2 < this.graph.node_names.length) {\r\n      mermaid_utils.addEdge(this.graph, node1, node2)\r\n    } else {\r\n      this.messageService.add({severity:'error', summary:'Error', detail:'Error in input.'})\r\n    }\r\n    this.save_and_update()\r\n  }\r\n\r\n  toolbar_delete_node() {\r\n    if(!!this.graphStyle.clicked) {\r\n      mermaid_utils.deleteNode(this.graph, this.graphStyle.clicked)\r\n      this.setClickedNode(null)\r\n      this.save_and_update()\r\n    }\r\n  }\r\n\r\n  toolbar_clear_node_edges() {\r\n    if(!!this.graphStyle.clicked) {\r\n      mermaid_utils.deleteNodeEdges(this.graph, this.graphStyle.clicked)\r\n      this.setClickedNode(null);\r\n      this.save_and_update()\r\n    }\r\n  }\r\n\r\n  toolbar_clear_graph() {\r\n    this.confirmationService.confirm({\r\n      message: 'Are you sure you want to clear the current graph?',\r\n      header: 'Confirmation',\r\n      icon: 'pi pi-exclamation-triangle',\r\n      accept: () => {this.clearGraph()},\r\n      reject: () => {}\r\n    });\r\n  }\r\n\r\n  @HostListener('document:keydown', ['$event']) keydown(event: KeyboardEvent) {\r\n    if (!this.selectedStory \r\n                  || !!this.selectedElement\r\n                  || !!this.dialogues.newNode.display\r\n                  || !!this.dialogues.newEdge.display\r\n                  || !!this.dialogues.rename.display\r\n                  || !!this.dialogues.username.display) {\r\n        return\r\n    }\r\n    const key = event.key.toLowerCase()\r\n    if (key == 'n') {\r\n      this.toolbar_new_node()\r\n    } else if (key == 'e') {\r\n      this.toolbar_new_edge()\r\n    }\r\n  }\r\n\r\n  @HostListener('document:keydown.escape', ['$event']) onEscapeKey(event: KeyboardEvent) {\r\n    this.setClickedNode(null)\r\n    this.update()\r\n  }\r\n\r\n  onFocus(event?) {\r\n    if(event){\r\n        this.selectedElement = event.target;\r\n    } else {\r\n        this.selectedElement = null; \r\n    }\r\n  }\r\n\r\n\r\n  async sidebar_click_story(storyKey) {\r\n    this.setLoader.emit(true)\r\n    if (!!this.selectedStory) {\r\n      await this.save_current_story_backend()\r\n    }\r\n    this.clearGraph()\r\n    this.selectedStory = this.allStories.filter(v => v.key == storyKey)[0]\r\n    this.router.navigate([], {\r\n        relativeTo: this.activatedRoute,\r\n        queryParams: {storyId: storyKey}, \r\n        queryParamsHandling: 'merge', // remove to replace all query params by provided\r\n      });\r\n  \r\n    let res = await this.mainService.userAnnotationGet(this.userName, storyKey).toPromise();\r\n    this.graph = !!res['resp'] ? JSON.parse(res['resp']) : {};\r\n    this.graph.node_names = !!this.graph.node_names ? this.graph.node_names : []\r\n    this.graph.edges = !!this.graph.edges ? this.graph.edges : []\r\n    this.graph.comments = !!this.graph.comments ? this.graph.comments : ''\r\n    this.update()\r\n    this.setLoader.emit(false)\r\n  }\r\n\r\n  sidenavSearchInput(searchText: string, enterKey: boolean) {\r\n    if (searchText.length == 0) {\r\n      this.filteredStories = this.allStories.map(v => v)\r\n    } else if (enterKey) {\r\n      searchText = searchText.toLowerCase()\r\n      this.filteredStories = this.allStories.filter((story) => {\r\n        return story.text.toLowerCase().indexOf(searchText) > -1\r\n      })\r\n    }\r\n  }\r\n\r\n  paginate(event) {\r\n    console.log(event);\r\n    \r\n  }\r\n\r\n\r\n\r\n  private setClickedNode(nodeClicked) {\r\n    this.graphStyle.clicked = nodeClicked\r\n  }\r\n\r\n  private clearGraph() {\r\n    this.graph.node_names = []\r\n    this.graph.edges = []\r\n    this.graph.comments = ''\r\n    this.setClickedNode(null)\r\n    this.update()\r\n  }\r\n\r\n  callback(nodeClicked) {\r\n    if (this.graphStyle.clicked == nodeClicked) {  // same node clicked twice\r\n      // this.toolbar_rename()\r\n      this.setClickedNode(null)\r\n      this.update()\r\n      return\r\n    }\r\n\r\n    if (!this.graphStyle.clicked) {  // set node as clicked\r\n      this.setClickedNode(nodeClicked)\r\n      this.update()\r\n    } else { // two nodes clicked, add edge\r\n      mermaid_utils.addEdge(this.graph, this.graphStyle.clicked, nodeClicked)\r\n      this.setClickedNode(null)\r\n      this.save_and_update()\r\n    }\r\n  }\r\n\r\n  async save_current_story_backend() {\r\n    let storyKey = this.selectedStory.key\r\n    let graph = JSON.stringify(this.graph)\r\n    let res = await this.mainService.userAnnotationAdd(this.userName, storyKey, graph).toPromise();\r\n    this.mainService.telemetryAdd(this.userName, 'edit ' + storyKey).subscribe((resp) => {})\r\n    return res\r\n  }\r\n\r\n  save_and_update() {\r\n    this.save_current_story_backend().then((resp) => {\r\n      this.update();\r\n    })\r\n  }\r\n  update() {\r\n    const element: any = this.mermaidDiv.nativeElement\r\n    const graph_str = mermaid_utils.obj_to_graph_str(this.graph, this.graphStyle)\r\n    // console.log(graph_str)\r\n    mermaid_utils.render(element, graph_str, this.callback.bind(this))\r\n  }\r\n\r\n\r\n}\r\n","\r\n<!-- Toolbar -->\r\n<div class=\"toolbar\" role=\"banner\">\r\n  <img width=\"110\" alt=\"Logo\" src=\"assets/dag.png\"/>\r\n  <span>Graph Tool</span>\r\n  <p-button [icon]=\"!!sidenavVisible ? 'pi pi-arrow-left' : 'pi pi-arrow-right'\" (onClick)=\"sidenavVisible = !sidenavVisible\" pTooltip=\"Open/Close sidebar\" [ngStyle]=\"{'margin-left':'8px'}\"></p-button>\r\n    <div class=\"spacer\"></div>\r\n  <div [ngStyle]=\"{'padding-right':'30px'}\">\r\n    Username: {{userName}}\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n<p-toast></p-toast>\r\n<p-confirmDialog></p-confirmDialog>\r\n\r\n<p-dialog header=\"Username\" [(visible)]=\"dialogues.username.display\" [modal]=\"true\" [closeOnEscape]=\"false\" [closable]=\"false\" [style]=\"{width: '25vw'}\" [baseZIndex]=\"10000\">\r\n  <span class=\"p-float-label\">\r\n    <input id=\"float-input\" type=\"text\" pInputText [(ngModel)]=\"dialogues.username.input\" (keydown.enter)=\"username_confirm()\" autofocus> \r\n    <label for=\"float-input\">Username</label>\r\n  </span>\r\n  \r\n  <ng-template pTemplate=\"footer\">\r\n    <p-button icon=\"pi pi-check\" [ngStyle]=\"{'margin-right':'8px'}\" (click)=\"username_confirm()\" label=\"Login\"></p-button>\r\n  </ng-template>\r\n</p-dialog>\r\n\r\n<p-dialog header=\"Node Name\" [(visible)]=\"dialogues.rename.display\" [style]=\"{width: '25vw'}\" [baseZIndex]=\"10000\">\r\n  <span class=\"p-float-label\">\r\n    <input id=\"float-input\" type=\"text\" pInputText [(ngModel)]=\"dialogues.rename.input\" (keydown.enter)=\"toolbar_raneme_confirm()\" autofocus> \r\n    <label for=\"float-input\">New Name</label>\r\n  </span>\r\n    \r\n  <ng-template pTemplate=\"footer\">\r\n    <p-button icon=\"pi pi-check\" [ngStyle]=\"{'margin-right':'8px'}\" (click)=\"toolbar_raneme_confirm()\" label=\"Confirm\"></p-button>\r\n    <p-button icon=\"pi pi-times\" [ngStyle]=\"{'margin-right':'8px'}\" (click)=\"dialogues.rename.display=false\" label=\"Cancel\" styleClass=\"p-button-text ui-button\"></p-button>\r\n  </ng-template>\r\n</p-dialog>\r\n\r\n<p-dialog header=\"Node Name\" [(visible)]=\"dialogues.newNode.display\" [style]=\"{width: '25vw'}\" [baseZIndex]=\"10000\">\r\n  <span class=\"p-float-label\">\r\n    <input id=\"float-input\" type=\"text\" pInputText [(ngModel)]=\"dialogues.newNode.input\" (keydown.enter)=\"toolbar_new_node_confirm()\" autofocus> \r\n    <label for=\"float-input\">New Name</label>\r\n  </span>\r\n  <span class=\"p-float-label\">\r\n    <input id=\"float-input\" type=\"text\" pInputText [(ngModel)]=\"dialogues.newNode.connectedNode\" (keydown.enter)=\"toolbar_new_node_confirm()\" autofocus> \r\n    <label for=\"float-input\">Connected Node</label>\r\n  </span>\r\n  \r\n  <ng-template pTemplate=\"footer\">\r\n    <p-button icon=\"pi pi-check\" [ngStyle]=\"{'margin-right':'8px'}\" (click)=\"toolbar_new_node_confirm()\" label=\"Confirm\"></p-button>\r\n    <p-button icon=\"pi pi-times\" [ngStyle]=\"{'margin-right':'8px'}\" (click)=\"dialogues.newNode.display=false\" label=\"Cancel\" styleClass=\"p-button-text ui-button\"></p-button>\r\n  </ng-template>\r\n</p-dialog>\r\n\r\n<p-dialog header=\"New Edge\" [(visible)]=\"dialogues.newEdge.display\" [style]=\"{width: '25vw'}\" [baseZIndex]=\"10000\">\r\n  <span class=\"p-float-label\">\r\n    <input id=\"float-input\" type=\"text\" pInputText [(ngModel)]=\"dialogues.newEdge.node1\" (keydown.enter)=\"toolbar_new_edge_confirm($event, true)\" autofocus> \r\n    <label for=\"float-input\">Node 1 ID</label>\r\n  </span>\r\n  <span class=\"p-float-label\">\r\n    <input id=\"float-input\" type=\"text\" pInputText [(ngModel)]=\"dialogues.newEdge.node2\" (keydown.enter)=\"toolbar_new_edge_confirm($event, false)\" autofocus> \r\n    <label for=\"float-input\">Node 2 ID</label>\r\n  </span>\r\n  \r\n  <ng-template pTemplate=\"footer\">\r\n    <p-button icon=\"pi pi-check\" [ngStyle]=\"{'margin-right':'8px'}\" (click)=\"toolbar_new_edge_confirm()\" label=\"Confirm\"></p-button>\r\n    <p-button icon=\"pi pi-times\" [ngStyle]=\"{'margin-right':'8px'}\" (click)=\"dialogues.newEdge.display=false\" label=\"Cancel\" styleClass=\"p-button-text ui-button\"></p-button>\r\n  </ng-template>\r\n</p-dialog>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<div>\r\n\r\n<!-- STORIES SIDEBAR -->\r\n<div id=\"mySidenav\" class=\"sidenav\" [ngClass]=\"{'sidenav-visible': sidenavVisible}\">\r\n  <!-- STORIES TOOLBAR -->\r\n  <!-- <p-toolbar> -->\r\n          <!-- <p-button icon=\"pi pi-plus\" (onClick)=\"sidebar_add_new_stories()\" pTooltip=\"Add New Story\"></p-button>\r\n          <p-button icon=\"pi pi-trash\" styleClass=\"p-button-danger ui-button\" pTooltip=\"Clear Everything\" [ngStyle]=\"{'margin-right':'8px'}\" (onClick)=\"sidebar_clear_all_stories()\"></p-button>\r\n          <p-button icon=\"pi pi-google\" styleClass=\"p-button-warning ui-button\" pTooltip=\"Load From Clipboard\" (onClick)=\"sidebar_load_data_from_clipboard()\"></p-button>\r\n          <p-button icon=\"pi pi-file-o\" styleClass=\"p-button-warning ui-button\" pTooltip=\"Load From File\" [ngStyle]=\"{'margin-right':'8px'}\" (onClick)=\"sidebar_load_data_from_file()\"></p-button>\r\n          <p-button icon=\"pi pi-save\" styleClass=\"ui-button\" pTooltip=\"Save to File\" (onClick)=\"sidebar_export()\"></p-button> -->\r\n  <!-- </p-toolbar> -->\r\n  <!-- SEARCH BOX -->\r\n  <input type=\"text\" pInputText \r\n      (input)=\"sidenavSearchInput($event.target.value, false)\" \r\n      (keyup.enter)=\"sidenavSearchInput($event.target.value, true)\"\r\n      (focus)=\"onFocus($event)\" (blur)=\"onFocus()\"\r\n    > \r\n    <!-- STORY LIST -->\r\n    <p-table [value]=\"filteredStories\" [scrollable]=\"true\" scrollHeight=\"80vh\" (onPageChange)=\"paginate($event)\">\r\n      <ng-template pTemplate=\"header\">\r\n          <tr>\r\n              <th style=\"max-width:50px\">Story</th>\r\n          </tr>\r\n      </ng-template>\r\n      <ng-template pTemplate=\"body\" let-story>\r\n          <tr #storyRow (click)=\"sidebar_click_story(story.key)\">\r\n              <td class=\"storyrow\" [ngClass]=\"{'selected': story.key==selectedStory?.key, 'completed': !!story.completed}\" >{{story.text}}</td>\r\n          </tr>\r\n      </ng-template>\r\n    </p-table>\r\n</div>\r\n\r\n\r\n\r\n<div class=\"content\" id=\"contentpush\" role=\"main\" [ngClass]=\"{'sidenav-visible': sidenavVisible}\">\r\n\r\n  <!-- GRAPH TOOLBAR -->\r\n  <p-toolbar>\r\n    <div class=\"p-toolbar-group-left\">\r\n        <p-button icon=\"pi pi-plus\" [ngStyle]=\"{'margin-right':'8px'}\" \r\n            label=\"N&#818;ode\" [disabled]=\"!selectedStory\" (onClick)=\"toolbar_new_node()\"></p-button>\r\n        <p-button icon=\"pi pi-plus\" [ngStyle]=\"{'margin-right':'8px'}\" \r\n            label=\"E&#818;dge\" [disabled]=\"!selectedStory\" (onClick)=\"toolbar_new_edge()\"></p-button>\r\n        <p-button icon=\"pi pi-pencil\" [ngStyle]=\"{'margin-right':'8px'}\" styleClass=\"p-button-warning ui-button\" \r\n            label=\"Rename\" [disabled]=\"!graphStyle.clicked\" (onClick)=\"toolbar_rename()\"></p-button>\r\n        <p-button icon=\"pi pi-times\" [ngStyle]=\"{'margin-right':'8px'}\" styleClass=\"p-button-help ui-button\" \r\n            label=\"Node\" [disabled]=\"!graphStyle.clicked\" (onClick)=\"toolbar_delete_node()\"></p-button>\r\n        <p-button icon=\"pi pi-times\" [ngStyle]=\"{'margin-right':'8px'}\" styleClass=\"p-button-help ui-button\" \r\n            label=\"Edge\" [disabled]=\"!graphStyle.clicked\" (onClick)=\"toolbar_clear_node_edges()\"></p-button>\r\n    </div>\r\n\r\n    <div class=\"p-toolbar-group-right\">\r\n\r\n      <p-button icon=\"pi pi-times\" [ngStyle]=\"{'margin-right':'8px'}\" styleClass=\"p-button-danger ui-button\" \r\n          label=\"Clear Graph\" [disabled]=\"!selectedStory\" (onClick)=\"toolbar_clear_graph()\"></p-button>\r\n    </div>\r\n</p-toolbar>\r\n\r\n\r\n  <div class=\"storyarea\">\r\n    <textarea [rows]=\"5\" pInputTextarea [ngModel]=\"!!selectedStory ? selectedStory?.text : 'No story selected.'\" autoResize=\"autoResize\" disabled=\"true\"></textarea>\r\n  </div>\r\n\r\n  Comments:\r\n  <div class=\"commentarea\">\r\n    <textarea [rows]=\"3\" pInputTextarea [(ngModel)]=\"graph.comments\" \r\n        autoResize=\"autoResize\" [disabled]=\"!selectedStory\"\r\n        (focus)=\"onFocus($event)\" (blur)=\"onFocus()\"\r\n    ></textarea>\r\n  </div>\r\n\r\n  <!-- GRAPH -->\r\n  <div class=\"graph\">\r\n    <div #mermaid></div>\r\n  </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n  <svg id=\"clouds\" xmlns=\"http://www.w3.org/2000/svg\" width=\"2611.084\" height=\"485.677\" viewBox=\"0 0 2611.084 485.677\">\r\n    <title>Gray Clouds Background</title>\r\n    <path id=\"Path_39\" data-name=\"Path 39\" d=\"M2379.709,863.793c10-93-77-171-168-149-52-114-225-105-264,15-75,3-140,59-152,133-30,2.83-66.725,9.829-93.5,26.25-26.771-16.421-63.5-23.42-93.5-26.25-12-74-77-130-152-133-39-120-212-129-264-15-54.084-13.075-106.753,9.173-138.488,48.9-31.734-39.726-84.4-61.974-138.487-48.9-52-114-225-105-264,15a162.027,162.027,0,0,0-103.147,43.044c-30.633-45.365-87.1-72.091-145.206-58.044-52-114-225-105-264,15-75,3-140,59-152,133-53,5-127,23-130,83-2,42,35,72,70,86,49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33,61.112,8.015,113.854-5.72,150.492-29.764a165.62,165.62,0,0,0,110.861-3.236c47,94,178,113,251,33,31.385,4.116,60.563,2.495,86.487-3.311,25.924,5.806,55.1,7.427,86.488,3.311,73,80,204,61,251-33a165.625,165.625,0,0,0,120,0c51,13,108,15,157-5a147.188,147.188,0,0,0,33.5-18.694,147.217,147.217,0,0,0,33.5,18.694c49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33C2446.709,1093.793,2554.709,922.793,2379.709,863.793Z\" transform=\"translate(142.69 -634.312)\" fill=\"#eee\"/>\r\n  </svg>\r\n\r\n</div>\r\n\r\n\r\n</div>","import mermaid from 'mermaid';\r\n\r\nexport class mermaid_utils {\r\n\r\n  static init() {\r\n    const config = {\r\n      startOnLoad: true,\r\n      flowchart: {\r\n        useMaxWidth: true,\r\n        htmlLabels: true,\r\n        curve: 'cardinal',\r\n      },\r\n      securityLevel: 'loose',\r\n      // theme: 'forest',\r\n    };\r\n    mermaid.initialize(config);\r\n  }\r\n\r\n    \r\n  static addNode(graph, name) {\r\n    graph.node_names.push(name)\r\n    return graph.node_names.length - 1\r\n  }\r\n\r\n  static addEdge(graph, i, j) {\r\n    graph.edges.push([i, j])\r\n  }\r\n\r\n  static deleteNodeEdges(graph, i) {\r\n    graph.edges = graph.edges.filter(edge => edge[0]!=i && edge[1]!=i);\r\n  }\r\n\r\n  static deleteNode(graph, i) {\r\n    this.deleteNodeEdges(graph, i)\r\n    graph.node_names.splice(i, 1) // remove i-th node\r\n    // fix edge numbers after removing edge i\r\n    graph.edges.forEach(edge => {\r\n      if(edge[0] >= i) edge[0] -= 1\r\n      if(edge[1] >= i) edge[1] -= 1\r\n    });\r\n  }\r\n\r\n  private static sanatizeName(name) {\r\n    const brokenWords = ['interpolate', 'call', 'click']\r\n    const regexstr = brokenWords.map(w => '(' + w + ')').join('|')\r\n    const regex = new RegExp(regexstr, 'g')\r\n    if(name.match(regex)) {\r\n      name = name.replaceAll(regex, (w) => {return w + '_'})\r\n      console.warn('Name sanatized', name);\r\n    }\r\n    return name\r\n  }\r\n\r\n  private static addNewLineToName(name) {\r\n    const newLine = '<br/>';\r\n    let lastNewLine = -1;\r\n    for (let i = 0; i < name.length; i++) {\r\n      lastNewLine++;\r\n      if (lastNewLine < 50) {\r\n        continue\r\n      }\r\n      //need new line at first space\r\n      const cur = name.charAt(i)\r\n      if(cur == ' ') {\r\n        name = name.substring(0, i) + newLine + name.substring(i+1)\r\n        i += (newLine.length - 1)\r\n        lastNewLine = 0\r\n      }\r\n    }\r\n    return name;\r\n  }\r\n\r\n  static obj_to_graph_str(graph, graphStyle?) {\r\n    let result = 'graph '\r\n    if (!!graphStyle.td) {\r\n      result += 'TD'\r\n    } else {\r\n      result += 'LR'\r\n    }\r\n    result += ' \\n'\r\n    graph.node_names.forEach((name, i) => {\r\n      const nodename = i;\r\n      name = this.sanatizeName(name)\r\n      name = (i+1) + ': ' + name\r\n      name = this.addNewLineToName(name)\r\n      const line = nodename + '([' + name + '])';\r\n      const callbackLine = 'click ' + nodename + ' callBackFn';\r\n      result += line + '\\n'\r\n      result += callbackLine + '\\n'\r\n    })\r\n    graph.edges.forEach((edge) => {\r\n      const line = edge[0] + ' --> ' + edge[1]\r\n      result += line + '\\n'\r\n    })\r\n    if(!!graphStyle) {\r\n      if (!!graphStyle.clicked) {\r\n        result += 'style ' + graphStyle.clicked + ' fill:#f9f,stroke:#333,stroke-width:2px' + '\\n'\r\n      }\r\n    }\r\n    return result\r\n  }\r\n\r\n  /**\r\n   * Renders the graph on screen given the HTML element and the string representation of the graph\r\n   * callback is called whenever a node is clicked\r\n   */\r\n  static render(element, graph_str, callback?) {\r\n    mermaid.render(\"graphDiv\", graph_str, (svgCode, bindFunctions) => {\r\n      element.innerHTML = svgCode;\r\n      bindFunctions(element);\r\n      }\r\n    );\r\n\r\n    if(!callback) {\r\n      callback = (nodeId) => {\r\n        console.log('Hit callBackFn', nodeId);\r\n      }\r\n    }\r\n    ;(window as any).callBackFn = callback;\r\n  }\r\n\r\n  private static decode_google_sheet_copy(text) {\r\n    let res = []\r\n    let inseideQuote = false\r\n    let currentCellIndex = 0\r\n\r\n    for(let i=0; i<text.length; i++){\r\n        let cur = text.charAt(i)\r\n        if(currentCellIndex >= res.length){\r\n            res.push(\"\")\r\n            if(cur == '\"') { // check if quoted cell\r\n                inseideQuote = true\r\n                continue\r\n            }\r\n        }\r\n        if (cur != '\\n' && cur != '\\t' && cur != '\"') {\r\n            res[currentCellIndex] += cur\r\n        } else if(cur == '\\n' || cur == '\\t') {\r\n            if (inseideQuote) { // in quoted cell, new lines and tabs appear as is\r\n                res[currentCellIndex] += cur\r\n            } else { // new line in unquoted cell, ends cell\r\n                inseideQuote = false;\r\n                currentCellIndex += 1;\r\n            }\r\n        } else if (cur == '\"') {\r\n            if (inseideQuote) {\r\n                let nextChar = (i+1)>=text.length ? '\\n' : text.charAt(i+1)\r\n                if (nextChar == '\"') { // double quote inside quoted cell, puts single quote in result\r\n                    res[currentCellIndex] += '\"'\r\n                    i++; // skip the double quote\r\n                } else if (nextChar == '\\n' || nextChar == '\\t') { // single quote in quoted cell, end quoted cell\r\n                    inseideQuote = false;\r\n                    currentCellIndex += 1;\r\n                    i++; // skip newline afterwards\r\n                } else if (nextChar == '\\r') { // single quote in quoted cell, end quoted cell\r\n                  inseideQuote = false;\r\n                  currentCellIndex += 1;\r\n                  i += 2; // skip \\r and newline afterwards\r\n                } else {\r\n                  console.error('UNEXPECTED STATE PARSING FROM GOOGLE SHEETS AT INDEX', i, currentCellIndex, inseideQuote, cur, nextChar);\r\n                }\r\n            } else { // in unquoted cell, quotations appear as is\r\n                res[currentCellIndex] += cur\r\n            }\r\n        }\r\n    }\r\n    return res;\r\n  }\r\n}","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AppComponent } from './app.component';\r\n\r\nconst routes: Routes = [\r\n  { path: 'home', component: AppComponent },\r\n  { path: '**', redirectTo: '/home', pathMatch: 'full' },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}