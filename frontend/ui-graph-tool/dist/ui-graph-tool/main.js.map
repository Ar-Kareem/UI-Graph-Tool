{"version":3,"sources":["./src/app/app.services.ts","./src/environments/environment.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/mermaid_utils.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { catchError, retry } from 'rxjs/operators';\r\n\r\nconst API = {\r\n    usersAdd: '/api/usersAdd/',\r\n    usersGet: '/api/usersGet/',\r\n\r\n    storyAdd: '/api/storyAdd',\r\n    storyGet: '/api/storyGet',\r\n    storyGetAll: '/api/storyGetAll',\r\n\r\n    userAnnotationAdd: '/api/userAnnotationAdd',\r\n    userAnnotationGet: '/api/userAnnotationGet',\r\n\r\n    telemetryAdd: '/api/telemetryAdd'\r\n}\r\n\r\n@Injectable()\r\nexport class AppService {\r\n    constructor(private http: HttpClient) { }\r\n\r\n    usersAdd(user) {\r\n        return this.http.post(API.usersAdd, {'data': user});\r\n    }\r\n\r\n    usersGet() {\r\n        return this.http.post(API.usersGet, {});\r\n    }\r\n\r\n    storyAdd(story) {\r\n        return this.http.post(API.storyAdd, {'data': story});\r\n    }\r\n\r\n    storyGet(storyNum) {\r\n        return this.http.post(API.storyGet, {'data': storyNum});\r\n    }\r\n\r\n    storyGetAll() {\r\n        return this.http.post(API.storyGetAll, {});\r\n    }\r\n\r\n    userAnnotationAdd(user, storyNum, jsonGraph) {\r\n        return this.http.post(API.userAnnotationAdd, {'user': user, 'storyNum': storyNum, 'data': jsonGraph});\r\n    }\r\n\r\n    userAnnotationGet(user, storyNum) {\r\n        return this.http.post(API.userAnnotationGet, {'user': user, 'storyNum': storyNum});\r\n    }\r\n\r\n    telemetryAdd(user, data) {\r\n        return this.http.post(API.telemetryAdd, {'user': user, 'data': data});\r\n    }\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { AfterViewInit, Component, ElementRef, HostListener, OnInit, ViewChild } from '@angular/core';\n\n\nimport {ConfirmationService, MessageService} from 'primeng/api';\nimport { AppService } from './app.services';\n\n\nimport { mermaid_utils } from './mermaid_utils'\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n})\nexport class AppComponent implements AfterViewInit  {\n  @ViewChild('mermaid', { static: true }) mermaidDiv: ElementRef;\n\n  BaseContextMenu = [\n    { label: \"New\", command: () => this.toolbar_new_node() },\n    { label: \"Rename\", disabled: () => !this.graphStyle.clicked, command: () => this.toolbar_rename() },\n    { label: \"Delete Node\", disabled: () => !this.graphStyle.clicked, command: () => this.toolbar_delete_node() },\n    { label: \"Clear Node Edges\", disabled: () => !this.graphStyle.clicked, command: () => this.toolbar_clear_node_edges() },\n  ];\n  contextMenu = [...this.BaseContextMenu]\n\n  stories: any = [\n    // {\n    //   text: 'hello',\n    // },\n    // {\n    //   text: 'hello2hello2hello2hello2hello2hello2hello2hello2',\n    //   completed: true,\n    // },\n  ];\n\n  usernameDialogDisplay = true;\n  usernameDialogInput = null;\n\n  renameDialogDisplay = false;\n  renameDialogInput = null;\n  renameDialogInNewNodeMode = false;\n  newStoryDialogDisplay = false;\n  newStoryDialogInput = null;\n\n  selectedTreeRowIndex = -1;\n\n  graph = {\n    // node_names: ['Start', 'Is it', 'End'],\n    // edges: [[0, 1], [1, 2]],\n    node_names: [],\n    edges: [],\n  }\n\n  graphStyle = {\n    clicked: null\n  }\n\n  userName = null;\n  // allUserNames: string[] = null;\n  \n  constructor(\n    private messageService: MessageService,\n    private confirmationService: ConfirmationService,\n    private appService: AppService,\n  ) {\n    // this.appService.storyGetAll().subscribe((res) => {\n    //   console.log('getall', res);\n      \n    // })\n    // this.userName = 'TEMPUSER';\n  }\n\n  async ngAfterViewInit(){\n    window['app'] = this\n    window['mermaid_utils'] = mermaid_utils\n    mermaid_utils.init()\n    this.update()\n\n    // this.allUserNames = (await this.appService.usersGet().toPromise())['resp']\n  }\n\n  async username_confirm() {\n    // let loggedIn = false;\n    // this.allUserNames.forEach(v => {\n    //   if (!loggedIn && this.usernameDialogInput.toLowerCase() == v.toLowerCase()) {\n    //     this.userName = v;\n    //     this.usernameDialogDisplay = false;\n    //     loggedIn = true;\n    //     this.appService.telemetryAdd(this.userName, 'login').subscribe((resp) => {})\n    //   }\n    // });\n    this.userName = this.usernameDialogInput.toLowerCase();\n    this.usernameDialogDisplay = false;\n    this.appService.telemetryAdd(this.userName, 'login').subscribe((resp) => {})\n    // if (loggedIn) {\n      // LOADING STORIES\n      let res = await this.appService.storyGetAll().toPromise();\n      let arr = res['resp'];\n      // console.log(arr);\n      let keys = Object.keys(arr)\n      Object.entries(arr).forEach(entry => {\n        let key = entry[0]\n        let story = entry[1]\n        this.stories.push({\n          text: story,\n          key: key\n        })\n      })\n    // } else {\n    //   this.messageService.add({severity:'error', summary:'User not found', detail:'user does not exist in the database'})\n    // }\n  }\n\n\n  toolbar_new_node() {\n    this.renameDialogInput = ''\n    this.renameDialogDisplay = true\n    this.renameDialogInNewNodeMode = true\n  }\n\n  toolbar_rename() {\n    if(!!this.graphStyle.clicked) {\n      const current_node_name = this.graph.node_names[this.graphStyle.clicked]\n      this.renameDialogInput = current_node_name\n      this.renameDialogDisplay = true\n      this.renameDialogInNewNodeMode = false\n    }\n  }\n  async toolbar_raneme_confirm() {\n    this.renameDialogDisplay = false\n    \n    const reg = '0-9 a-z A-Z \\- \\/ \\& \\' . ,'\n    const matchReg = new RegExp('^[' + reg + ']+$')\n    const replaceReg = new RegExp('[^' + reg + ']', 'g')\n    if (!this.renameDialogInput.match(matchReg)) {\n      // this.messageService.add({severity:'error', summary:'Name Error', detail:'Name contains invalid characters'})\n      // return\n      this.messageService.add({severity:'warn', summary:'Name Sanitized', detail:'Name contains invalid characters that were removed'})\n      console.log(this.renameDialogInput);\n      this.renameDialogInput = this.renameDialogInput.replaceAll(replaceReg, '')\n      console.log(this.renameDialogInput);\n      \n    }\n    if(this.renameDialogInNewNodeMode) {\n      mermaid_utils.addNode(this.graph, this.renameDialogInput)\n    } else {\n      this.graph.node_names[this.graphStyle.clicked] = this.renameDialogInput\n    }\n    this.save_and_update()\n  }\n\n  toolbar_delete_node() {\n    if(!!this.graphStyle.clicked) {\n      mermaid_utils.deleteNode(this.graph, this.graphStyle.clicked)\n      this.setClickedNode(null)\n      this.save_and_update()\n    }\n  }\n\n  toolbar_clear_node_edges() {\n    if(!!this.graphStyle.clicked) {\n      mermaid_utils.deleteNodeEdges(this.graph, this.graphStyle.clicked)\n      this.setClickedNode(null);\n      this.save_and_update()\n    }\n  }\n\n  // toolbar_mark_story() {\n  //   this.stories[this.selectedTreeRowIndex].completed = !this.stories[this.selectedTreeRowIndex].completed\n  // }\n  toolbar_clear_graph() {\n    this.confirmationService.confirm({\n      message: 'Are you sure you want to clear the current graph?',\n      header: 'Confirmation',\n      icon: 'pi pi-exclamation-triangle',\n      accept: () => {this.clearGraph()},\n      reject: () => {}\n    });\n  }\n  // toolbar_delete_story() {\n  //   this.confirmationService.confirm({\n  //     message: 'Are you sure you want to delete this story?',\n  //     header: 'Delete Story',\n  //     icon: 'pi pi-exclamation-triangle',\n  //     accept: () => {\n  //       this.stories.splice(this.selectedTreeRowIndex, 1)\n  //       this.selectedTreeRowIndex -= 1;\n  //       if (this.selectedTreeRowIndex < 0 && this.stories.length > 0) {\n  //         this.selectedTreeRowIndex = 0;\n  //       }\n  //       this.sidebar_click_story(this.selectedTreeRowIndex)\n  //     },\n  //   });\n  // }\n\n  @HostListener('document:keydown.escape', ['$event']) onEscapeKey(event: KeyboardEvent) {\n    this.setClickedNode(null)\n    this.update()\n  }\n\n  async sidebar_click_story(index) {\n    if (this.selectedTreeRowIndex >= 0) {\n      await this.save_current_story_backend()\n    }\n    this.selectedTreeRowIndex = index;\n    if(this.selectedTreeRowIndex < 0) {\n      this.graph = {\n        node_names: [],\n        edges: [],\n      }\n      this.update()\n      return\n    }\n    // if(!this.stories[index].graph) {\n    //   this.stories[index].graph = {}\n    // }\n    let storyKey = this.stories[index].key\n    let res = await this.appService.userAnnotationGet(this.userName, storyKey).toPromise();\n    this.graph = !!res['resp'] ? JSON.parse(res['resp']) : {};\n    this.graph.node_names = !!this.graph.node_names ? this.graph.node_names : []\n    this.graph.edges = !!this.graph.edges ? this.graph.edges : []\n    this.update()\n  }\n\n  sidebar_add_new_stories() {\n    this.newStoryDialogInput = ''\n    this.newStoryDialogDisplay = true\n  }\n  sidebar_add_new_stories_confirm() {\n    this.newStoryDialogDisplay = false\n    const addIndex = this.selectedTreeRowIndex >= 0 ? this.selectedTreeRowIndex+1 : this.stories.length;\n    this.stories.splice(addIndex, 0, {text: this.newStoryDialogInput})\n    this.sidebar_click_story(addIndex)\n  }\n\n  sidebar_load_data_from_clipboard() {\n    navigator.clipboard.readText()\n    .then(text => {\n      const sheet = mermaid_utils.decode_google_sheet_copy(text)\n      this.confirmationService.confirm({\n        message: 'Are you sure you want to load the following stories? <br/> Story Count: <b>' + sheet.length + '</b>',\n        header: 'Load from clipboard',\n        accept: () => {\n          sheet.forEach((cell) => this.stories.push({text: cell}))\n        },\n      });\n    })\n    .catch(err => {\n      console.error('Failed to read clipboard contents: ', err);\n    });\n  }\n\n  sidebar_load_data_from_file() {\n    let input = document.createElement('input');\n    input.type = 'file';\n    input.onchange = e => { \n      let file = (e.target as any).files[0]; \n      // \n\n      let reader = new FileReader();\n      reader.readAsText(file,'UTF-8');\n      reader.onload = readerEvent => {\n          let content = readerEvent.target.result;\n          let loadedStories = JSON.parse(content as any)\n          loadedStories.forEach((cell) => {\n            if (!('text' in cell)) {\n              return\n            }\n            this.stories.push(cell)\n          })\n      }\n    }\n    input.click();\n  }\n\n  sidebar_clear_all_stories() {\n    this.confirmationService.confirm({\n      message: 'Are you sure you want to DELETE ALL DATA?',\n      header: 'Delete All Data',\n      accept: () => {\n        setTimeout(() => {\n          this.confirmationService.confirm({\n            message: 'Are you really sure you want to DELETE ALL DATA?',\n            header: 'Delete All Data',\n            accept: () => {\n              this.stories = [];\n              this.clearGraph();\n              this.selectedTreeRowIndex = -1;\n            },\n          });\n        }, 500);\n      },\n    });\n  }\n\n  sidebar_export() {\n    var a = document.createElement(\"a\");\n    var file = new Blob([JSON.stringify(this.stories)], {type: 'text'});\n    a.href = URL.createObjectURL(file);\n    a.download = 'export.txt';\n    a.click();\n  }\n\n\n\n\n\n\n  setClickedNode(nodeClicked) {\n    this.graphStyle.clicked = nodeClicked\n    this.contextMenu = this.BaseContextMenu.map(m => Object.assign({}, m))\n    this.contextMenu.forEach(m => {\n      if ('disabled' in m) {\n        m['disabled'] = m['disabled']() as any\n      }\n    })\n  }\n\n  clearGraph() {\n    this.graph.node_names = []\n    this.graph.edges = []\n    this.setClickedNode(null)\n    this.update()\n  }\n\n  callback(nodeClicked) {\n    if (this.graphStyle.clicked == nodeClicked) {  // same node clicked twice\n      // this.toolbar_rename()\n      this.setClickedNode(null)\n      this.update()\n      return\n    }\n\n    if (!this.graphStyle.clicked) {  // set node as clicked\n      this.setClickedNode(nodeClicked)\n      this.update()\n    } else { // two nodes clicked, add edge\n      mermaid_utils.addEdge(this.graph, this.graphStyle.clicked, nodeClicked)\n      this.setClickedNode(null)\n      this.save_and_update()\n    }\n  }\n\n  async save_current_story_backend() {\n    let storyKey = this.stories[this.selectedTreeRowIndex].key\n    let graph = JSON.stringify(this.graph)\n    let res = await this.appService.userAnnotationAdd(this.userName, storyKey, graph).toPromise();\n    this.appService.telemetryAdd(this.userName, 'edit ' + storyKey).subscribe((resp) => {})\n    return res\n  }\n\n  save_and_update() {\n    this.save_current_story_backend().then((resp) => {\n      this.update();\n    })\n  }\n  update() {\n    const element: any = this.mermaidDiv.nativeElement\n    const graph_str = mermaid_utils.obj_to_graph_str(this.graph, this.graphStyle)\n    // console.log(graph_str)\n    mermaid_utils.render(element, graph_str, this.callback.bind(this))\n  }\n\n\n}\n","\n<!-- Toolbar -->\n<div class=\"toolbar\" role=\"banner\">\n  <img width=\"110\" alt=\"Logo\" src=\"assets/dag.png\"/>\n  <span>Graph Tool</span>\n    <div class=\"spacer\"></div>\n  <div [ngStyle]=\"{'padding-right':'30px'}\">\n    Username: {{userName}}\n  </div>\n</div>\n\n\n\n<p-toast></p-toast>\n<p-confirmDialog></p-confirmDialog>\n\n<p-dialog header=\"Username\" [(visible)]=\"usernameDialogDisplay\" [modal]=\"true\" [closeOnEscape]=\"false\" [closable]=\"false\" [style]=\"{width: '25vw'}\" [baseZIndex]=\"10000\">\n  <span class=\"p-float-label\">\n    <input id=\"float-input\" type=\"text\" pInputText [(ngModel)]=\"usernameDialogInput\" (keydown.enter)=\"username_confirm()\" autofocus> \n    <label for=\"float-input\">Username</label>\n  </span>\n  \n<ng-template pTemplate=\"footer\">\n  <p-button icon=\"pi pi-check\" [ngStyle]=\"{'margin-right':'8px'}\" (click)=\"username_confirm()\" label=\"Login\"></p-button>\n</ng-template>\n</p-dialog>\n\n<p-dialog header=\"Node Name\" [(visible)]=\"renameDialogDisplay\" [style]=\"{width: '25vw'}\" [baseZIndex]=\"10000\">\n    <span class=\"p-float-label\">\n      <input id=\"float-input\" type=\"text\" pInputText [(ngModel)]=\"renameDialogInput\" (keydown.enter)=\"toolbar_raneme_confirm()\" autofocus> \n      <label for=\"float-input\">New Name</label>\n    </span>\n    \n  <ng-template pTemplate=\"footer\">\n    <p-button icon=\"pi pi-check\" [ngStyle]=\"{'margin-right':'8px'}\" (click)=\"toolbar_raneme_confirm()\" label=\"Confirm\"></p-button>\n    <p-button icon=\"pi pi-times\" [ngStyle]=\"{'margin-right':'8px'}\" (click)=\"renameDialogDisplay=false\" label=\"Cancel\" styleClass=\"p-button-text ui-button\"></p-button>\n  </ng-template>\n</p-dialog>\n\n<p-dialog header=\"New Story\" [(visible)]=\"newStoryDialogDisplay\" [style]=\"{width: '50vw'}\" [baseZIndex]=\"10000\">\n  <textarea [rows]=\"20\" pInputTextarea [(ngModel)]=\"newStoryDialogInput\" [ngStyle]=\"{'width':'100%', 'max-width': '100%'}\" autofocus></textarea>\n\n  \n  <ng-template pTemplate=\"footer\">\n    <p-button icon=\"pi pi-check\" [ngStyle]=\"{'margin-right':'8px'}\" (click)=\"sidebar_add_new_stories_confirm()\" label=\"Confirm\"></p-button>\n    <p-button icon=\"pi pi-times\" [ngStyle]=\"{'margin-right':'8px'}\" (click)=\"newStoryDialogDisplay=false\" label=\"Cancel\" styleClass=\"p-button-text ui-button\"></p-button>\n  </ng-template>\n</p-dialog>\n\n\n<div>\n\n<!-- STORIES SIDEBAR -->\n<div id=\"mySidenav\" class=\"sidenav\">\n  <!-- STORIES TOOLBAR -->\n  <!-- <p-toolbar>\n          <p-button icon=\"pi pi-plus\" (onClick)=\"sidebar_add_new_stories()\" pTooltip=\"Add New Story\"></p-button>\n          <p-button icon=\"pi pi-trash\" styleClass=\"p-button-danger ui-button\" pTooltip=\"Clear Everything\" [ngStyle]=\"{'margin-right':'8px'}\" (onClick)=\"sidebar_clear_all_stories()\"></p-button>\n          <p-button icon=\"pi pi-google\" styleClass=\"p-button-warning ui-button\" pTooltip=\"Load From Clipboard\" (onClick)=\"sidebar_load_data_from_clipboard()\"></p-button>\n          <p-button icon=\"pi pi-file-o\" styleClass=\"p-button-warning ui-button\" pTooltip=\"Load From File\" [ngStyle]=\"{'margin-right':'8px'}\" (onClick)=\"sidebar_load_data_from_file()\"></p-button>\n          <p-button icon=\"pi pi-save\" styleClass=\"ui-button\" pTooltip=\"Save to File\" (onClick)=\"sidebar_export()\"></p-button>\n  </p-toolbar> -->\n    <p-table [value]=\"stories\" [scrollable]=\"true\" scrollHeight=\"80vh\">\n      <ng-template pTemplate=\"header\">\n          <tr>\n              <th style=\"max-width:50px\">Story</th>\n          </tr>\n      </ng-template>\n      <ng-template pTemplate=\"body\" let-story   let-i=\"rowIndex\">\n          <tr (click)=\"sidebar_click_story(i)\">\n              <td class=\"storyrow\" [ngClass]=\"{'selected': i==selectedTreeRowIndex, 'completed': !!story.completed}\" >{{story.text}}</td>\n          </tr>\n      </ng-template>\n    </p-table>\n</div>\n\n\n\n<div class=\"content\" id=\"contentpush\" role=\"main\">\n\n  <!-- GRAPH TOOLBAR -->\n  <p-toolbar>\n    <div class=\"p-toolbar-group-left\">\n        <p-button icon=\"pi pi-plus\" [ngStyle]=\"{'margin-right':'8px'}\" \n            label=\"New\" [disabled]=\"selectedTreeRowIndex < 0\" (onClick)=\"toolbar_new_node()\"></p-button>\n        <p-button icon=\"pi pi-pencil\" [ngStyle]=\"{'margin-right':'8px'}\" styleClass=\"p-button-warning ui-button\" \n            label=\"Rename\" [disabled]=\"!graphStyle.clicked\" (onClick)=\"toolbar_rename()\"></p-button>\n        <p-button icon=\"pi pi-times\" [ngStyle]=\"{'margin-right':'8px'}\" styleClass=\"p-button-help ui-button\" \n            label=\"Delete Node\" [disabled]=\"!graphStyle.clicked\" (onClick)=\"toolbar_delete_node()\"></p-button>\n        <p-button icon=\"pi pi-times\" [ngStyle]=\"{'margin-right':'8px'}\" styleClass=\"p-button-help ui-button\" \n            label=\"Clear Node Edges\" [disabled]=\"!graphStyle.clicked\" (onClick)=\"toolbar_clear_node_edges()\"></p-button>\n    </div>\n\n    <div class=\"p-toolbar-group-right\">\n\n      <!-- <div *ngIf=\"selectedTreeRowIndex >= 0 && !!this.stories[this.selectedTreeRowIndex].completed; then thenBlock else elseBlock\"></div>\n      <ng-template #thenBlock>  \n        MARKED\n        <p-button icon=\"pi pi-flag\" [ngStyle]=\"{'margin-right':'8px'}\" styleClass=\"p-button-help ui-button\" \n          label=\"Unmark\" [disabled]=\"selectedTreeRowIndex < 0\" (onClick)=\"toolbar_mark_story()\"></p-button>\n      </ng-template>\n      <ng-template #elseBlock>\n        NOT MARKED OR NO SELECTED\n        <p-button icon=\"pi pi-flag\" [ngStyle]=\"{'margin-right':'8px'}\" styleClass=\"p-button-success ui-button\" \n          label=\"Mark\" [disabled]=\"selectedTreeRowIndex < 0\" (onClick)=\"toolbar_mark_story()\"></p-button>\n      </ng-template> -->\n\n      <p-button icon=\"pi pi-times\" [ngStyle]=\"{'margin-right':'8px'}\" styleClass=\"p-button-danger ui-button\" \n          label=\"Clear Graph\" [disabled]=\"selectedTreeRowIndex < 0\" (onClick)=\"toolbar_clear_graph()\"></p-button>\n      <!-- <p-button icon=\"pi pi-times\" [ngStyle]=\"{'margin-right':'8px'}\" styleClass=\"p-button-danger ui-button\" \n          label=\"Delete Story\" [disabled]=\"selectedTreeRowIndex < 0\" (onClick)=\"toolbar_delete_story()\"></p-button> -->\n    </div>\n</p-toolbar>\n\n  <p-contextMenu [target]=\"mermaid\" [model]=\"contextMenu\" ></p-contextMenu>\n  <!-- GRAPH -->\n  <div class=\"graph\">\n    <div #mermaid></div>\n  </div>\n\n\n  <div class=\"storyarea\">\n    <textarea [rows]=\"5\" pInputTextarea [ngModel]=\"selectedTreeRowIndex >= 0 ? stories[selectedTreeRowIndex].text : 'No story selected.'\" autoResize=\"autoResize\" disabled=\"true\"></textarea>\n  </div>\n\n\n\n\n\n  <svg id=\"clouds\" xmlns=\"http://www.w3.org/2000/svg\" width=\"2611.084\" height=\"485.677\" viewBox=\"0 0 2611.084 485.677\">\n    <title>Gray Clouds Background</title>\n    <path id=\"Path_39\" data-name=\"Path 39\" d=\"M2379.709,863.793c10-93-77-171-168-149-52-114-225-105-264,15-75,3-140,59-152,133-30,2.83-66.725,9.829-93.5,26.25-26.771-16.421-63.5-23.42-93.5-26.25-12-74-77-130-152-133-39-120-212-129-264-15-54.084-13.075-106.753,9.173-138.488,48.9-31.734-39.726-84.4-61.974-138.487-48.9-52-114-225-105-264,15a162.027,162.027,0,0,0-103.147,43.044c-30.633-45.365-87.1-72.091-145.206-58.044-52-114-225-105-264,15-75,3-140,59-152,133-53,5-127,23-130,83-2,42,35,72,70,86,49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33,61.112,8.015,113.854-5.72,150.492-29.764a165.62,165.62,0,0,0,110.861-3.236c47,94,178,113,251,33,31.385,4.116,60.563,2.495,86.487-3.311,25.924,5.806,55.1,7.427,86.488,3.311,73,80,204,61,251-33a165.625,165.625,0,0,0,120,0c51,13,108,15,157-5a147.188,147.188,0,0,0,33.5-18.694,147.217,147.217,0,0,0,33.5,18.694c49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33C2446.709,1093.793,2554.709,922.793,2379.709,863.793Z\" transform=\"translate(142.69 -634.312)\" fill=\"#eee\"/>\n  </svg>\n\n</div>\n\n\n</div>","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { HttpClientModule } from '@angular/common/http';\n\nimport { ToolbarModule } from 'primeng/toolbar';\nimport { ButtonModule } from 'primeng/button';\nimport { SplitButtonModule } from 'primeng/splitbutton';\nimport { DialogModule } from 'primeng/dialog';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { InputTextModule } from 'primeng/inputtext';\nimport { FormsModule } from '@angular/forms';\nimport { ToastModule } from 'primeng/toast';\nimport { ConfirmationService , MessageService} from 'primeng/api';\nimport { ConfirmDialogModule } from 'primeng/confirmdialog';\nimport { TableModule } from 'primeng/table';\nimport { ContextMenuModule } from 'primeng/contextmenu';\nimport {InputTextareaModule} from 'primeng/inputtextarea';\nimport {TooltipModule} from 'primeng/tooltip';\n\nimport { AppComponent } from './app.component';\nimport { AppService } from './app.services';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    HttpClientModule,\n\n    ToolbarModule,\n    ButtonModule,\n    SplitButtonModule,\n    DialogModule,\n    BrowserAnimationsModule,\n    InputTextModule,\n    FormsModule,\n    ToastModule,\n    ConfirmDialogModule,\n    TableModule,\n    ContextMenuModule,\n    InputTextareaModule,\n    TooltipModule,\n  ],\n  providers: [\n    MessageService,\n    ConfirmationService,\n    AppService,\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import mermaid from 'mermaid';\r\n\r\nexport class mermaid_utils {\r\n\r\n  static init() {\r\n    const config = {\r\n      startOnLoad: true,\r\n      flowchart: {\r\n        useMaxWidth: true,\r\n        htmlLabels: true,\r\n        curve: 'cardinal',\r\n      },\r\n      securityLevel: 'loose',\r\n      // theme: 'forest',\r\n    };\r\n    mermaid.initialize(config);\r\n  }\r\n\r\n    \r\n  static addNode(graph, name) {\r\n    graph.node_names.push(name)\r\n    return graph.node_names.length - 1\r\n  }\r\n\r\n  static addEdge(graph, i, j) {\r\n    graph.edges.push([i, j])\r\n  }\r\n\r\n  static deleteNodeEdges(graph, i) {\r\n    graph.edges = graph.edges.filter(edge => edge[0]!=i && edge[1]!=i);\r\n  }\r\n\r\n  static deleteNode(graph, i) {\r\n    this.deleteNodeEdges(graph, i)\r\n    graph.node_names.splice(i, 1) // remove i-th node\r\n    // fix edge numbers after removing edge i\r\n    graph.edges.forEach(edge => {\r\n      if(edge[0] >= i) edge[0] -= 1\r\n      if(edge[1] >= i) edge[1] -= 1\r\n    });\r\n  }\r\n\r\n  private static sanatizeName(name) {\r\n    const brokenWords = ['interpolate', 'call', 'click']\r\n    const regexstr = brokenWords.map(w => '(' + w + ')').join('|')\r\n    const regex = new RegExp(regexstr, 'g')\r\n    if(name.match(regex)) {\r\n      name = name.replaceAll(regex, (w) => {return w + '_'})\r\n      console.warn('Name sanatized', name);\r\n    }\r\n    return name\r\n  }\r\n\r\n  private static addNewLineToName(name) {\r\n    const newLine = '<br/>';\r\n    let lastNewLine = -1;\r\n    for (let i = 0; i < name.length; i++) {\r\n      lastNewLine++;\r\n      if (lastNewLine < 50) {\r\n        continue\r\n      }\r\n      //need new line at first space\r\n      const cur = name.charAt(i)\r\n      if(cur == ' ') {\r\n        name = name.substring(0, i) + newLine + name.substring(i+1)\r\n        i += (newLine.length - 1)\r\n        lastNewLine = 0\r\n      }\r\n    }\r\n    return name;\r\n  }\r\n\r\n  static obj_to_graph_str(graph, graphStyle?) {\r\n    let result = 'graph LR \\n'\r\n    graph.node_names.forEach((name, i) => {\r\n      const nodename = i;\r\n      name = this.sanatizeName(name)\r\n      name = this.addNewLineToName(name)\r\n      const line = nodename + '([' + name + '])';\r\n      const callbackLine = 'click ' + nodename + ' callBackFn';\r\n      result += line + '\\n'\r\n      result += callbackLine + '\\n'\r\n    })\r\n    graph.edges.forEach((edge) => {\r\n      const line = edge[0] + ' --> ' + edge[1]\r\n      result += line + '\\n'\r\n    })\r\n    if(!!graphStyle) {\r\n      if (!!graphStyle.clicked) {\r\n        result += 'style ' + graphStyle.clicked + ' fill:#f9f,stroke:#333,stroke-width:2px' + '\\n'\r\n      }\r\n    }\r\n    return result\r\n  }\r\n\r\n  /**\r\n   * Renders the graph on screen given the HTML element and the string representation of the graph\r\n   * callback is called whenever a node is clicked\r\n   */\r\n  static render(element, graph_str, callback?) {\r\n    mermaid.render(\"graphDiv\", graph_str, (svgCode, bindFunctions) => {\r\n      element.innerHTML = svgCode;\r\n      bindFunctions(element);\r\n      }\r\n    );\r\n\r\n    if(!callback) {\r\n      callback = (nodeId) => {\r\n        console.log('Hit callBackFn', nodeId);\r\n      }\r\n    }\r\n    ;(window as any).callBackFn = callback;\r\n  }\r\n\r\n  static decode_google_sheet_copy(text) {\r\n    let res = []\r\n    let inseideQuote = false\r\n    let currentCellIndex = 0\r\n\r\n    for(let i=0; i<text.length; i++){\r\n        let cur = text.charAt(i)\r\n        if(currentCellIndex >= res.length){\r\n            res.push(\"\")\r\n            if(cur == '\"') { // check if quoted cell\r\n                inseideQuote = true\r\n                continue\r\n            }\r\n        }\r\n        if (cur != '\\n' && cur != '\\t' && cur != '\"') {\r\n            res[currentCellIndex] += cur\r\n        } else if(cur == '\\n' || cur == '\\t') {\r\n            if (inseideQuote) { // in quoted cell, new lines and tabs appear as is\r\n                res[currentCellIndex] += cur\r\n            } else { // new line in unquoted cell, ends cell\r\n                inseideQuote = false;\r\n                currentCellIndex += 1;\r\n            }\r\n        } else if (cur == '\"') {\r\n            if (inseideQuote) {\r\n                let nextChar = (i+1)>=text.length ? '\\n' : text.charAt(i+1)\r\n                if (nextChar == '\"') { // double quote inside quoted cell, puts single quote in result\r\n                    res[currentCellIndex] += '\"'\r\n                    i++; // skip the double quote\r\n                } else if (nextChar == '\\n' || nextChar == '\\t') { // single quote in quoted cell, end quoted cell\r\n                    inseideQuote = false;\r\n                    currentCellIndex += 1;\r\n                    i++; // skip newline afterwards\r\n                } else if (nextChar == '\\r') { // single quote in quoted cell, end quoted cell\r\n                  inseideQuote = false;\r\n                  currentCellIndex += 1;\r\n                  i += 2; // skip \\r and newline afterwards\r\n                } else {\r\n                  console.error('UNEXPECTED STATE PARSING FROM GOOGLE SHEETS AT INDEX', i, currentCellIndex, inseideQuote, cur, nextChar);\r\n                }\r\n            } else { // in unquoted cell, quotations appear as is\r\n                res[currentCellIndex] += cur\r\n            }\r\n        }\r\n    }\r\n    return res;\r\n  }\r\n}","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}